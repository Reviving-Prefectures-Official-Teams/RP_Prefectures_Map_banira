# Character

european_clothes_trigger = {
	exists = scope:character
	scope:character = {
		OR = {
			AND = {
				culture = cu:japanese
				devout_clothes_trigger = no
				NOT = {
					has_ideology = ideology:ideology_traditionalist
					is_ruler = yes
				}
				owner ?= {
					has_variable = meiji_restoration_complete
				}
			}
			has_template = AST_william_light
			AND = {
				culture = {
					has_discrimination_trait = european_heritage
				}
				NOT = {
					culture = cu:circassian
				}
				NOT = {
					AND = { # Albanian characters serving either the Ottomans or Egyptians should wear that country's clothing.
						culture = cu:albanian
						exists = home_country
						OR = {
							home_country = {
								exists = c:TUR
								c:TUR = this
							}
							home_country = {
								exists = c:EGY
								c:EGY = this
							}
						}
					}
				}
			}
		}
	}
}

japanese_clothes_trigger = {
	exists = scope:character
	scope:character = {
          OR = {
          	religion = rel:shinbutsu_shugo            
          }
	}
}

monarchy_clothes_trigger = {
    exists = scope:character
    scope:character = {
        exists = owner
        OR = {
            is_ruler = yes
            is_heir = yes
        }
        owner = {
            has_law = law_type:law_monarchy
        }
    }
}

republic_clothes_trigger = {
    exists = scope:character
    scope:character = {
        exists = home_country
        is_ruler = yes
        home_country = {
            NOT = { has_law = law_type:law_monarchy}
        }
    }
}

# Pop
european_clothes_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		culture = {
			has_discrimination_trait = european_heritage
		}
	}
}

japanese_clothes_pop_trigger = {
    exists = scope:pop
	scope:pop = {
		religion = {
			has_discrimination_trait = shintoist
		}
	}
}

poor_clothes_pop_trigger = {
	exists = scope:pop
    scope:pop = {
		OR = {
			is_pop_type = farmers
			is_pop_type = peasants
			is_pop_type = laborers
			is_pop_type = machinists
		}
    }   
}

middle_clothes_pop_trigger = {
    exists = scope:pop
    scope:pop = {
        OR = {
            is_pop_type = clerks
            is_pop_type = engineers
            is_pop_type = bureaucrats
            is_pop_type = shopkeepers
        }
    }
}

upper_clothes_pop_trigger = {
    exists = scope:pop
    scope:pop = {
        OR = {
            is_pop_type = aristocrats
            is_pop_type = capitalists
			is_pop_type = crimelord
            is_pop_type = academics
        }
    }
}

# Pop職業別トリガー
soldier_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = soldiers
     }
}

officers_clothes_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		is_pop_type = officers
	} 
}

clergy_clothes_pop_trigger = {
	exists = scope:pop
     scope:pop = {
		is_pop_type = clergymen
     }
}

shopkeepers_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = shopkeepers	
     }    
}

clerks_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = clerks	
     }   
}

academics_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = academics	
     }   
}

farmers_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = farmers	
     }   
}

laborers_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = laborers	
     }   
}

peasants_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = peasants	
     }   
}

slaves_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = slaves	
     }   
}

aristocrats_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = aristocrats	
     }   
}

machinists_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = machinists	
     }   
}

engineers_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = engineers	
     }   
}

bureaucrats_clothes_pop_trigger = {
     exists = scope:pop
     scope:pop = {
		is_pop_type = bureaucrats	
     }   
}

slightly_underweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		OR = {
			AND = {
				pop_weight_modifier_scale < 25	
				standard_of_living >= 10		
			}
			AND = {
				standard_of_living >= 5
				standard_of_living < 10
				pop_weight_modifier_scale >= 25
				pop_weight_modifier_scale < 50
			}			
			AND = {
				standard_of_living < 5
				pop_weight_modifier_scale >= 50
			}		
		}	
    }
}

underweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		OR = {
			AND = {
				pop_weight_modifier_scale < 25
				standard_of_living >= 5
				standard_of_living < 10
			}		
			AND = {
				standard_of_living < 5
				pop_weight_modifier_scale >= 25
				pop_weight_modifier_scale < 50
			}		
		}	
    }
}

very_underweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		pop_weight_modifier_scale < 25
		standard_of_living < 5	
    }
}

slightly_overweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		OR = {
			AND = {
				standard_of_living >= 15
				standard_of_living < 20
				pop_weight_modifier_scale >= 90	
			}
			AND = {
				standard_of_living >= 20
				standard_of_living < 40
				pop_weight_modifier_scale >= 85	
				pop_weight_modifier_scale < 90
			}
			AND = {
				standard_of_living >= 40
				pop_weight_modifier_scale >= 70
				pop_weight_modifier_scale < 80
			}					
		}	
    }
}

overweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		OR = {
			AND = {
				standard_of_living >= 15
				standard_of_living < 20
				pop_weight_modifier_scale >= 95
			}
			AND = {
				standard_of_living >= 20
				standard_of_living < 40
				pop_weight_modifier_scale >= 90
				pop_weight_modifier_scale < 95
			}
			AND = {
				standard_of_living >= 40
				pop_weight_modifier_scale >= 80	
				pop_weight_modifier_scale < 90
			}				
		}	
    }
}

very_overweight_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		OR = {
			AND = {
				standard_of_living >= 20
				standard_of_living < 40
				pop_weight_modifier_scale >= 95
			}
			AND = {
				standard_of_living >= 40
				pop_weight_modifier_scale >= 90
			}				
		}	
    }
}

struggling_pop_trigger = {
	exists = scope:pop
	scope:pop = {
		standard_of_living < 10
	}
}

agitator_character_trigger = {
	scope:character ?= {
		has_role = agitator
	}
}

should_be_naked_trigger = {
	exists = scope:pop
	scope:pop = {
       	OR = {
			is_pop_type = farmers
			is_pop_type = peasants
			is_pop_type = laborers
			is_pop_type = slaves
		}
		OR = {
			culture = cu:amazonian
			culture = cu:nuba
			culture = cu:dinka
		}
	}
}

## Can only be checked in the interface since the setting isn't synced
should_be_fully_naked_portrait_trigger = {
	should_be_naked_trigger = yes
	should_show_nudity = yes
}
#
#should_be_topless_portrait_trigger = {
#	exists = scope:pop
#	has_character_flag = single_combat_stripped_to_waist
#	should_show_nudity = yes
#}